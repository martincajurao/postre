import{b2 as Yi,b3 as Wi,b4 as Xi,b5 as ji,b6 as $i,b7 as Fi,b8 as qi,F as Be,b9 as Gi,ba as Ki,bb as Zi,bc as Qi,bd as Ji,be as en,bf as tn,T as Wa,am as an,bg as nn,bh as rn,bi as on,bj as sn,bk as ln,bl as un,bm as cn,bn as dn,bo as hn,c as ee,bp as fn,m as Dt,q as ct,e as Ve,h as P,bq as vn,br as mn,bs as pn,bt as gn,bu as bn,bv as yn,l as de,j as m,bw as wn,bx as xn,by as Cn,bz as Dn,bA as Sn,bB as En,bC as Mn,bD as Tn,bE as kn,bF as Vn,bG as Rn,bH as An,bI as Nn,bJ as Bn,a as On,bK as In,bL as Pn,bM as _n,bN as Ln,bO as zn,bP as Hn,bQ as Un,bR as Yn,bS as Wn,bT as Xn,bU as jn,bV as $n,bW as Fn,bX as qn,i as Gn,bY as Kn,bZ as Zn,b_ as Qn,b$ as Jn,c0 as er,c1 as tr,c2 as ar,c3 as ir,c4 as nr,c5 as rr,c6 as or,H as Oe,aa as qt,n as Nt,c7 as sr,U as $t,c8 as lr,c9 as ur,b as Bt,ca as cr,cb as dr,cc as hr,o as Mt,cd as fr,ce as vr,aX as Xa,cf as mr,cg as pr,ch as gr,ci as br,f as be,cj as yr,a5 as wr,ck as xr,cl as Cr,cm as Dr,y as Sr,cn as ja,r as ae,co as Er,cp as Mr,A as St,cq as Tr,d as kr,t as Vr,cr as Rr,cs as Ar,ct as Nr,cu as Br,cv as Or,cw as Ir,cx as Pr,cy as _r,a0 as Te,cz as Lr,cA as zr,cB as Hr,D as dt,cC as Ur,cD as Yr,cE as Wr,a1 as Ye,cF as Xr,cG as jr,cH as $r,cI as Fr,s as $a,cJ as qr,cK as Gr,cL as Kr,cM as Zr,az as Gt,cN as Qr,cO as Jr,cP as eo,cQ as to,cR as ao,cS as io,cT as no,cU as ro,cV as oo,cW as so,a$ as lo,v as uo,cX as co,cY as ho,K as Pe,aQ as Kt,cZ as fo,c_ as vo,c$ as mo,k as R,d0 as po,w as go,d1 as Fa,d2 as bo,G as yo,d3 as wo,N as vt,O as nt,a6 as ht,Q as mt,aZ as Zt,R as xo,d4 as Co,d5 as Do,a_ as qa,aV as Et,x as De,S as So,Z as Eo,aN as Ga,d6 as Ea,an as Ka,b0 as Mo,ab as To,d7 as ko,Y as Vo,X as Ro,aS as Ao,ad as Ma,aE as No,d8 as Bo,ap as Oo,d9 as Io,da as Po,ae as _o,a2 as Lo,a3 as zo,aw as Ho,aI as Uo,db as Yo,a4 as Wo,aT as Xo,B as At,aK as Za,dc as jo,dd as $o,de as Fo,V as it,df as qo,E as Qa,L as Vt,z as yt,I as Ta,J as ka,aB as Go,C as Ko}from"./index-B7PGE_pd.js";import{a as Ue,q as Zo,e as Qo,c as Rt,d as at,f as Va,h as Ut,b as wt,r as Ra,s as Aa,u as Na,g as Ba}from"./index-4JLtwh0j.js";import{c as Oa,m as Jo,d as Ia,e as es,b as ts,a as as,V as xt}from"./VApp-CEVKn_r0.js";import{V as Yt}from"./VDialog-C_YUYaku.js";import{f as Qt,b as is,d as ns,e as rs}from"./VOverlay-J_OMyWXK.js";import{a as Jt,b as ft,f as ea,j as Ja,k as ei,d as Pa,e as os,g as ss,i as je}from"./VTextField-DfmiOX9l.js";import{u as ti}from"./ssrBoot-Dj7fANA8.js";import{V as Ft,m as ls,a as _a}from"./VToolbar-B8hEXP3v.js";import{b as us,V as Wt,a as Ct,c as Xt}from"./VSpacer-Ves0izzE.js";import"./VList-Bt1626Iq.js";import"./dialog-transition-BrnLex2R.js";import"./VMenu-CMOggndw.js";/**
* vue v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const cs=()=>{},ds=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Yi,BaseTransitionPropsValidators:Wi,Comment:Xi,DeprecationTypes:ji,EffectScope:$i,ErrorCodes:Fi,ErrorTypeStrings:qi,Fragment:Be,KeepAlive:Gi,ReactiveEffect:Ki,Static:Zi,Suspense:Qi,Teleport:Ji,Text:en,TrackOpTypes:tn,Transition:Wa,TransitionGroup:an,TriggerOpTypes:nn,VueElement:rn,assertNumber:on,callWithAsyncErrorHandling:sn,callWithErrorHandling:ln,camelize:un,capitalize:cn,cloneVNode:dn,compatUtils:hn,compile:cs,computed:ee,createApp:fn,createBlock:Dt,createCommentVNode:ct,createElementBlock:Ve,createElementVNode:P,createHydrationRenderer:vn,createPropsRestProxy:mn,createRenderer:pn,createSSRApp:gn,createSlots:bn,createStaticVNode:yn,createTextVNode:de,createVNode:m,customRef:wn,defineAsyncComponent:xn,defineComponent:Cn,defineCustomElement:Dn,defineEmits:Sn,defineExpose:En,defineModel:Mn,defineOptions:Tn,defineProps:kn,defineSSRCustomElement:Vn,defineSlots:Rn,devtools:An,effect:Nn,effectScope:Bn,getCurrentInstance:On,getCurrentScope:In,getCurrentWatcher:Pn,getTransitionRawChildren:_n,guardReactiveProps:Ln,h:zn,handleError:Hn,hasInjectionContext:Un,hydrate:Yn,hydrateOnIdle:Wn,hydrateOnInteraction:Xn,hydrateOnMediaQuery:jn,hydrateOnVisible:$n,initCustomFormatter:Fn,initDirectivesForSSR:qn,inject:Gn,isMemoSame:Kn,isProxy:Zn,isReactive:Qn,isReadonly:Jn,isRef:er,isRuntimeOnly:tr,isShallow:ar,isVNode:ir,markRaw:nr,mergeDefaults:rr,mergeModels:or,mergeProps:Oe,nextTick:qt,normalizeClass:Nt,normalizeProps:sr,normalizeStyle:$t,onActivated:lr,onBeforeMount:ur,onBeforeUnmount:Bt,onBeforeUpdate:cr,onDeactivated:dr,onErrorCaptured:hr,onMounted:Mt,onRenderTracked:fr,onRenderTriggered:vr,onScopeDispose:Xa,onServerPrefetch:mr,onUnmounted:pr,onUpdated:gr,onWatcherCleanup:br,openBlock:be,popScopeId:yr,provide:wr,proxyRefs:xr,pushScopeId:Cr,queuePostFlushCb:Dr,reactive:Sr,readonly:ja,ref:ae,registerRuntimeCompiler:Er,render:Mr,renderList:St,renderSlot:Tr,resolveComponent:kr,resolveDirective:Vr,resolveDynamicComponent:Rr,resolveFilter:Ar,resolveTransitionHooks:Nr,setBlockTracking:Br,setDevtoolsHook:Or,setTransitionHooks:Ir,shallowReactive:Pr,shallowReadonly:_r,shallowRef:Te,ssrContextKey:Lr,ssrUtils:zr,stop:Hr,toDisplayString:dt,toHandlerKey:Ur,toHandlers:Yr,toRaw:Wr,toRef:Ye,toRefs:Xr,toValue:jr,transformVNodeArgs:$r,triggerRef:Fr,unref:$a,useAttrs:qr,useCssModule:Gr,useCssVars:Kr,useHost:Zr,useId:Gt,useModel:Qr,useSSRContext:Jr,useShadowRoot:eo,useSlots:to,useTemplateRef:ao,useTransitionState:io,vModelCheckbox:no,vModelDynamic:ro,vModelRadio:oo,vModelSelect:so,vModelText:lo,vShow:uo,version:co,warn:ho,watch:Pe,watchEffect:Kt,watchPostEffect:fo,watchSyncEffect:vo,withAsyncContext:mo,withCtx:R,withDefaults:po,withDirectives:go,withKeys:Fa,withMemo:bo,withModifiers:yo,withScopeId:wo},Symbol.toStringTag,{value:"Module"})),hs=nt({...ea(),...xo(Jo(),["inline"])},"VCheckbox"),fs=vt()({name:"VCheckbox",inheritAttrs:!1,props:hs(),emits:{"update:modelValue":i=>!0,"update:focused":i=>!0},setup(i,h){let{attrs:w,slots:x}=h;const v=ht(i,"modelValue"),{isFocused:C,focus:D,blur:V}=Jt(i),j=ae(),$=Gt();return mt(()=>{const[I,_]=Zt(w),z=ft.filterProps(i),L=Oa.filterProps(i);return m(ft,Oe({ref:j,class:["v-checkbox",i.class]},I,z,{modelValue:v.value,"onUpdate:modelValue":N=>v.value=N,id:i.id||`checkbox-${$}`,focused:C.value,style:i.style}),{...x,default:N=>{let{id:H,messagesId:ie,isDisabled:T,isReadonly:k,isValid:G}=N;return m(Oa,Oe(L,{id:H.value,"aria-describedby":ie.value,disabled:T.value,readonly:k.value},_,{error:G.value===!1,modelValue:v.value,"onUpdate:modelValue":te=>v.value=te,onFocus:D,onBlur:V}),x)}})}),Qt({},j)}}),ye=[];for(let i=0;i<256;++i)ye.push((i+256).toString(16).slice(1));function vs(i,h=0){return(ye[i[h+0]]+ye[i[h+1]]+ye[i[h+2]]+ye[i[h+3]]+"-"+ye[i[h+4]]+ye[i[h+5]]+"-"+ye[i[h+6]]+ye[i[h+7]]+"-"+ye[i[h+8]]+ye[i[h+9]]+"-"+ye[i[h+10]]+ye[i[h+11]]+ye[i[h+12]]+ye[i[h+13]]+ye[i[h+14]]+ye[i[h+15]]).toLowerCase()}let jt;const ms=new Uint8Array(16);function ps(){if(!jt){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");jt=crypto.getRandomValues.bind(crypto)}return jt(ms)}const gs=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),La={randomUUID:gs};function bs(i,h,w){var v;if(La.randomUUID&&!i)return La.randomUUID();i=i||{};const x=i.random??((v=i.rng)==null?void 0:v.call(i))??ps();if(x.length<16)throw new Error("Random bytes length must be >= 16");return x[6]=x[6]&15|64,x[8]=x[8]&63|128,vs(x)}var ai={};const ys=Co(ds);var ii={exports:{}};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */(function(i,h){(function(w,x){i.exports=x()})(Do,function(){function w(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),a.push.apply(a,t)}return a}function x(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?w(Object(a),!0).forEach(function(t){I(n,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}function v(n,e){if(typeof n!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var t=a.call(n,e);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function C(n){var e=v(n,"string");return typeof e=="symbol"?e:e+""}function D(n){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(n)}function V(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function j(n,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,C(t.key),t)}}function $(n,e,a){return e&&j(n.prototype,e),a&&j(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function I(n,e,a){return e=C(e),e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function _(n){return z(n)||L(n)||N(n)||ie()}function z(n){if(Array.isArray(n))return H(n)}function L(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function N(n,e){if(n){if(typeof n=="string")return H(n,e);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return H(n,e)}}function H(n,e){(e==null||e>n.length)&&(e=n.length);for(var a=0,t=new Array(e);a<e;a++)t[a]=n[a];return t}function ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T=typeof window<"u"&&typeof window.document<"u",k=T?window:{},G=T&&k.document.documentElement?"ontouchstart"in k.document.documentElement:!1,te=T?"PointerEvent"in k:!1,A="cropper",B="all",O="crop",M="move",U="zoom",Z="e",Y="w",le="s",oe="n",we="ne",E="nw",K="se",he="sw",Se="".concat(A,"-crop"),Ge="".concat(A,"-disabled"),q="".concat(A,"-hidden"),_e="".concat(A,"-hide"),Re="".concat(A,"-invisible"),S="".concat(A,"-modal"),l="".concat(A,"-move"),b="".concat(A,"Action"),se="".concat(A,"Preview"),Le="crop",Ke="move",Ze="none",ge="crop",xe="cropend",Ce="cropmove",pt="cropstart",ta="dblclick",oi=G?"touchstart":"mousedown",si=G?"touchmove":"mousemove",li=G?"touchend touchcancel":"mouseup",aa=te?"pointerdown":oi,ia=te?"pointermove":si,na=te?"pointerup pointercancel":li,ra="ready",oa="resize",sa="wheel",Ot="zoom",la="image/jpeg",ui=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,ci=/^data:/,di=/^data:image\/jpeg;base64,/,hi=/^img|canvas$/i,ua=200,ca=100,da={viewMode:0,dragMode:Le,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:ua,minContainerHeight:ca,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},fi='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',vi=Number.isNaN||k.isNaN;function W(n){return typeof n=="number"&&!vi(n)}var ha=function(e){return e>0&&e<1/0};function It(n){return typeof n>"u"}function Qe(n){return D(n)==="object"&&n!==null}var mi=Object.prototype.hasOwnProperty;function rt(n){if(!Qe(n))return!1;try{var e=n.constructor,a=e.prototype;return e&&a&&mi.call(a,"isPrototypeOf")}catch{return!1}}function Ee(n){return typeof n=="function"}var pi=Array.prototype.slice;function fa(n){return Array.from?Array.from(n):pi.call(n)}function ue(n,e){return n&&Ee(e)&&(Array.isArray(n)||W(n.length)?fa(n).forEach(function(a,t){e.call(n,a,t,n)}):Qe(n)&&Object.keys(n).forEach(function(a){e.call(n,n[a],a,n)})),n}var ne=Object.assign||function(e){for(var a=arguments.length,t=new Array(a>1?a-1:0),s=1;s<a;s++)t[s-1]=arguments[s];return Qe(e)&&t.length>0&&t.forEach(function(r){Qe(r)&&Object.keys(r).forEach(function(o){e[o]=r[o]})}),e},gi=/\.\d*(?:0|9){12}\d*$/;function ot(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return gi.test(n)?Math.round(n*e)/e:n}var bi=/^width|height|left|top|marginLeft|marginTop$/;function $e(n,e){var a=n.style;ue(e,function(t,s){bi.test(s)&&W(t)&&(t="".concat(t,"px")),a[s]=t})}function yi(n,e){return n.classList?n.classList.contains(e):n.className.indexOf(e)>-1}function me(n,e){if(e){if(W(n.length)){ue(n,function(t){me(t,e)});return}if(n.classList){n.classList.add(e);return}var a=n.className.trim();a?a.indexOf(e)<0&&(n.className="".concat(a," ").concat(e)):n.className=e}}function ze(n,e){if(e){if(W(n.length)){ue(n,function(a){ze(a,e)});return}if(n.classList){n.classList.remove(e);return}n.className.indexOf(e)>=0&&(n.className=n.className.replace(e,""))}}function st(n,e,a){if(e){if(W(n.length)){ue(n,function(t){st(t,e,a)});return}a?me(n,e):ze(n,e)}}var wi=/([a-z\d])([A-Z])/g;function Pt(n){return n.replace(wi,"$1-$2").toLowerCase()}function _t(n,e){return Qe(n[e])?n[e]:n.dataset?n.dataset[e]:n.getAttribute("data-".concat(Pt(e)))}function gt(n,e,a){Qe(a)?n[e]=a:n.dataset?n.dataset[e]=a:n.setAttribute("data-".concat(Pt(e)),a)}function xi(n,e){if(Qe(n[e]))try{delete n[e]}catch{n[e]=void 0}else if(n.dataset)try{delete n.dataset[e]}catch{n.dataset[e]=void 0}else n.removeAttribute("data-".concat(Pt(e)))}var va=/\s\s*/,ma=function(){var n=!1;if(T){var e=!1,a=function(){},t=Object.defineProperty({},"once",{get:function(){return n=!0,e},set:function(r){e=r}});k.addEventListener("test",a,t),k.removeEventListener("test",a,t)}return n}();function Ie(n,e,a){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=a;e.trim().split(va).forEach(function(r){if(!ma){var o=n.listeners;o&&o[r]&&o[r][a]&&(s=o[r][a],delete o[r][a],Object.keys(o[r]).length===0&&delete o[r],Object.keys(o).length===0&&delete n.listeners)}n.removeEventListener(r,s,t)})}function Ae(n,e,a){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=a;e.trim().split(va).forEach(function(r){if(t.once&&!ma){var o=n.listeners,u=o===void 0?{}:o;s=function(){delete u[r][a],n.removeEventListener(r,s,t);for(var f=arguments.length,c=new Array(f),d=0;d<f;d++)c[d]=arguments[d];a.apply(n,c)},u[r]||(u[r]={}),u[r][a]&&n.removeEventListener(r,u[r][a],t),u[r][a]=s,n.listeners=u}n.addEventListener(r,s,t)})}function lt(n,e,a){var t;return Ee(Event)&&Ee(CustomEvent)?t=new CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0}):(t=document.createEvent("CustomEvent"),t.initCustomEvent(e,!0,!0,a)),n.dispatchEvent(t)}function pa(n){var e=n.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Lt=k.location,Ci=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ga(n){var e=n.match(Ci);return e!==null&&(e[1]!==Lt.protocol||e[2]!==Lt.hostname||e[3]!==Lt.port)}function ba(n){var e="timestamp=".concat(new Date().getTime());return n+(n.indexOf("?")===-1?"?":"&")+e}function bt(n){var e=n.rotate,a=n.scaleX,t=n.scaleY,s=n.translateX,r=n.translateY,o=[];W(s)&&s!==0&&o.push("translateX(".concat(s,"px)")),W(r)&&r!==0&&o.push("translateY(".concat(r,"px)")),W(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),W(a)&&a!==1&&o.push("scaleX(".concat(a,")")),W(t)&&t!==1&&o.push("scaleY(".concat(t,")"));var u=o.length?o.join(" "):"none";return{WebkitTransform:u,msTransform:u,transform:u}}function Di(n){var e=x({},n),a=0;return ue(n,function(t,s){delete e[s],ue(e,function(r){var o=Math.abs(t.startX-r.startX),u=Math.abs(t.startY-r.startY),g=Math.abs(t.endX-r.endX),f=Math.abs(t.endY-r.endY),c=Math.sqrt(o*o+u*u),d=Math.sqrt(g*g+f*f),p=(d-c)/c;Math.abs(p)>Math.abs(a)&&(a=p)})}),a}function Tt(n,e){var a=n.pageX,t=n.pageY,s={endX:a,endY:t};return e?s:x({startX:a,startY:t},s)}function Si(n){var e=0,a=0,t=0;return ue(n,function(s){var r=s.startX,o=s.startY;e+=r,a+=o,t+=1}),e/=t,a/=t,{pageX:e,pageY:a}}function Fe(n){var e=n.aspectRatio,a=n.height,t=n.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",r=ha(t),o=ha(a);if(r&&o){var u=a*e;s==="contain"&&u>t||s==="cover"&&u<t?a=t/e:t=a*e}else r?a=t/e:o&&(t=a*e);return{width:t,height:a}}function Ei(n){var e=n.width,a=n.height,t=n.degree;if(t=Math.abs(t)%180,t===90)return{width:a,height:e};var s=t%90*Math.PI/180,r=Math.sin(s),o=Math.cos(s),u=e*o+a*r,g=e*r+a*o;return t>90?{width:g,height:u}:{width:u,height:g}}function Mi(n,e,a,t){var s=e.aspectRatio,r=e.naturalWidth,o=e.naturalHeight,u=e.rotate,g=u===void 0?0:u,f=e.scaleX,c=f===void 0?1:f,d=e.scaleY,p=d===void 0?1:d,F=a.aspectRatio,X=a.naturalWidth,re=a.naturalHeight,Q=t.fillColor,fe=Q===void 0?"transparent":Q,pe=t.imageSmoothingEnabled,ce=pe===void 0?!0:pe,We=t.imageSmoothingQuality,ke=We===void 0?"low":We,y=t.maxWidth,J=y===void 0?1/0:y,ve=t.maxHeight,Ne=ve===void 0?1/0:ve,Xe=t.minWidth,Je=Xe===void 0?0:Xe,et=t.minHeight,qe=et===void 0?0:et,He=document.createElement("canvas"),Me=He.getContext("2d"),tt=Fe({aspectRatio:F,width:J,height:Ne}),kt=Fe({aspectRatio:F,width:Je,height:qe},"cover"),zt=Math.min(tt.width,Math.max(kt.width,X)),Ht=Math.min(tt.height,Math.max(kt.height,re)),xa=Fe({aspectRatio:s,width:J,height:Ne}),Ca=Fe({aspectRatio:s,width:Je,height:qe},"cover"),Da=Math.min(xa.width,Math.max(Ca.width,r)),Sa=Math.min(xa.height,Math.max(Ca.height,o)),Hi=[-Da/2,-Sa/2,Da,Sa];return He.width=ot(zt),He.height=ot(Ht),Me.fillStyle=fe,Me.fillRect(0,0,zt,Ht),Me.save(),Me.translate(zt/2,Ht/2),Me.rotate(g*Math.PI/180),Me.scale(c,p),Me.imageSmoothingEnabled=ce,Me.imageSmoothingQuality=ke,Me.drawImage.apply(Me,[n].concat(_(Hi.map(function(Ui){return Math.floor(ot(Ui))})))),Me.restore(),He}var ya=String.fromCharCode;function Ti(n,e,a){var t="";a+=e;for(var s=e;s<a;s+=1)t+=ya(n.getUint8(s));return t}var ki=/^data:.*,/;function Vi(n){var e=n.replace(ki,""),a=atob(e),t=new ArrayBuffer(a.length),s=new Uint8Array(t);return ue(s,function(r,o){s[o]=a.charCodeAt(o)}),t}function Ri(n,e){for(var a=[],t=8192,s=new Uint8Array(n);s.length>0;)a.push(ya.apply(null,fa(s.subarray(0,t)))),s=s.subarray(t);return"data:".concat(e,";base64,").concat(btoa(a.join("")))}function Ai(n){var e=new DataView(n),a;try{var t,s,r;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,u=2;u+1<o;){if(e.getUint8(u)===255&&e.getUint8(u+1)===225){s=u;break}u+=1}if(s){var g=s+4,f=s+10;if(Ti(e,g,4)==="Exif"){var c=e.getUint16(f);if(t=c===18761,(t||c===19789)&&e.getUint16(f+2,t)===42){var d=e.getUint32(f+4,t);d>=8&&(r=f+d)}}}if(r){var p=e.getUint16(r,t),F,X;for(X=0;X<p;X+=1)if(F=r+X*12+2,e.getUint16(F,t)===274){F+=8,a=e.getUint16(F,t),e.setUint16(F,1,t);break}}}catch{a=1}return a}function Ni(n){var e=0,a=1,t=1;switch(n){case 2:a=-1;break;case 3:e=-180;break;case 4:t=-1;break;case 5:e=90,t=-1;break;case 6:e=90;break;case 7:e=90,a=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:a,scaleY:t}}var Bi={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,a=this.options,t=this.container,s=this.cropper,r=Number(a.minContainerWidth),o=Number(a.minContainerHeight);me(s,q),ze(e,q);var u={width:Math.max(t.offsetWidth,r>=0?r:ua),height:Math.max(t.offsetHeight,o>=0?o:ca)};this.containerData=u,$e(s,{width:u.width,height:u.height}),me(e,q),ze(s,q)},initCanvas:function(){var e=this.containerData,a=this.imageData,t=this.options.viewMode,s=Math.abs(a.rotate)%180===90,r=s?a.naturalHeight:a.naturalWidth,o=s?a.naturalWidth:a.naturalHeight,u=r/o,g=e.width,f=e.height;e.height*u>e.width?t===3?g=e.height*u:f=e.width/u:t===3?f=e.width/u:g=e.height*u;var c={aspectRatio:u,naturalWidth:r,naturalHeight:o,width:g,height:f};this.canvasData=c,this.limited=t===1||t===2,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=ne({},c)},limitCanvas:function(e,a){var t=this.options,s=this.containerData,r=this.canvasData,o=this.cropBoxData,u=t.viewMode,g=r.aspectRatio,f=this.cropped&&o;if(e){var c=Number(t.minCanvasWidth)||0,d=Number(t.minCanvasHeight)||0;u>1?(c=Math.max(c,s.width),d=Math.max(d,s.height),u===3&&(d*g>c?c=d*g:d=c/g)):u>0&&(c?c=Math.max(c,f?o.width:0):d?d=Math.max(d,f?o.height:0):f&&(c=o.width,d=o.height,d*g>c?c=d*g:d=c/g));var p=Fe({aspectRatio:g,width:c,height:d});c=p.width,d=p.height,r.minWidth=c,r.minHeight=d,r.maxWidth=1/0,r.maxHeight=1/0}if(a)if(u>(f?0:1)){var F=s.width-r.width,X=s.height-r.height;r.minLeft=Math.min(0,F),r.minTop=Math.min(0,X),r.maxLeft=Math.max(0,F),r.maxTop=Math.max(0,X),f&&this.limited&&(r.minLeft=Math.min(o.left,o.left+(o.width-r.width)),r.minTop=Math.min(o.top,o.top+(o.height-r.height)),r.maxLeft=o.left,r.maxTop=o.top,u===2&&(r.width>=s.width&&(r.minLeft=Math.min(0,F),r.maxLeft=Math.max(0,F)),r.height>=s.height&&(r.minTop=Math.min(0,X),r.maxTop=Math.max(0,X))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=s.width,r.maxTop=s.height},renderCanvas:function(e,a){var t=this.canvasData,s=this.imageData;if(a){var r=Ei({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),o=r.width,u=r.height,g=t.width*(o/t.naturalWidth),f=t.height*(u/t.naturalHeight);t.left-=(g-t.width)/2,t.top-=(f-t.height)/2,t.width=g,t.height=f,t.aspectRatio=o/u,t.naturalWidth=o,t.naturalHeight=u,this.limitCanvas(!0,!1)}(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCanvas(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,$e(this.canvas,ne({width:t.width,height:t.height},bt({translateX:t.left,translateY:t.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var a=this.canvasData,t=this.imageData,s=t.naturalWidth*(a.width/a.naturalWidth),r=t.naturalHeight*(a.height/a.naturalHeight);ne(t,{width:s,height:r,left:(a.width-s)/2,top:(a.height-r)/2}),$e(this.image,ne({width:t.width,height:t.height},bt(ne({translateX:t.left,translateY:t.top},t)))),e&&this.output()},initCropBox:function(){var e=this.options,a=this.canvasData,t=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,r={width:a.width,height:a.height};t&&(a.height*t>a.width?r.height=r.width/t:r.width=r.height*t),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*s),r.height=Math.max(r.minHeight,r.height*s),r.left=a.left+(a.width-r.width)/2,r.top=a.top+(a.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=ne({},r)},limitCropBox:function(e,a){var t=this.options,s=this.containerData,r=this.canvasData,o=this.cropBoxData,u=this.limited,g=t.aspectRatio;if(e){var f=Number(t.minCropBoxWidth)||0,c=Number(t.minCropBoxHeight)||0,d=u?Math.min(s.width,r.width,r.width+r.left,s.width-r.left):s.width,p=u?Math.min(s.height,r.height,r.height+r.top,s.height-r.top):s.height;f=Math.min(f,s.width),c=Math.min(c,s.height),g&&(f&&c?c*g>f?c=f/g:f=c*g:f?c=f/g:c&&(f=c*g),p*g>d?p=d/g:d=p*g),o.minWidth=Math.min(f,d),o.minHeight=Math.min(c,p),o.maxWidth=d,o.maxHeight=p}a&&(u?(o.minLeft=Math.max(0,r.left),o.minTop=Math.max(0,r.top),o.maxLeft=Math.min(s.width,r.left+r.width)-o.width,o.maxTop=Math.min(s.height,r.top+r.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=s.width-o.width,o.maxTop=s.height-o.height))},renderCropBox:function(){var e=this.options,a=this.containerData,t=this.cropBoxData;(t.width>t.maxWidth||t.width<t.minWidth)&&(t.left=t.oldLeft),(t.height>t.maxHeight||t.height<t.minHeight)&&(t.top=t.oldTop),t.width=Math.min(Math.max(t.width,t.minWidth),t.maxWidth),t.height=Math.min(Math.max(t.height,t.minHeight),t.maxHeight),this.limitCropBox(!1,!0),t.left=Math.min(Math.max(t.left,t.minLeft),t.maxLeft),t.top=Math.min(Math.max(t.top,t.minTop),t.maxTop),t.oldLeft=t.left,t.oldTop=t.top,e.movable&&e.cropBoxMovable&&gt(this.face,b,t.width>=a.width&&t.height>=a.height?M:B),$e(this.cropBox,ne({width:t.width,height:t.height},bt({translateX:t.left,translateY:t.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),lt(this.element,ge,this.getData())}},Oi={initPreview:function(){var e=this.element,a=this.crossOrigin,t=this.options.preview,s=a?this.crossOriginUrl:this.url,r=e.alt||"The image to preview",o=document.createElement("img");if(a&&(o.crossOrigin=a),o.src=s,o.alt=r,this.viewBox.appendChild(o),this.viewBoxImage=o,!!t){var u=t;typeof t=="string"?u=e.ownerDocument.querySelectorAll(t):t.querySelector&&(u=[t]),this.previews=u,ue(u,function(g){var f=document.createElement("img");gt(g,se,{width:g.offsetWidth,height:g.offsetHeight,html:g.innerHTML}),a&&(f.crossOrigin=a),f.src=s,f.alt=r,f.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',g.innerHTML="",g.appendChild(f)})}},resetPreview:function(){ue(this.previews,function(e){var a=_t(e,se);$e(e,{width:a.width,height:a.height}),e.innerHTML=a.html,xi(e,se)})},preview:function(){var e=this.imageData,a=this.canvasData,t=this.cropBoxData,s=t.width,r=t.height,o=e.width,u=e.height,g=t.left-a.left-e.left,f=t.top-a.top-e.top;!this.cropped||this.disabled||($e(this.viewBoxImage,ne({width:o,height:u},bt(ne({translateX:-g,translateY:-f},e)))),ue(this.previews,function(c){var d=_t(c,se),p=d.width,F=d.height,X=p,re=F,Q=1;s&&(Q=p/s,re=r*Q),r&&re>F&&(Q=F/r,X=s*Q,re=F),$e(c,{width:X,height:re}),$e(c.getElementsByTagName("img")[0],ne({width:o*Q,height:u*Q},bt(ne({translateX:-g*Q,translateY:-f*Q},e))))}))}},Ii={bind:function(){var e=this.element,a=this.options,t=this.cropper;Ee(a.cropstart)&&Ae(e,pt,a.cropstart),Ee(a.cropmove)&&Ae(e,Ce,a.cropmove),Ee(a.cropend)&&Ae(e,xe,a.cropend),Ee(a.crop)&&Ae(e,ge,a.crop),Ee(a.zoom)&&Ae(e,Ot,a.zoom),Ae(t,aa,this.onCropStart=this.cropStart.bind(this)),a.zoomable&&a.zoomOnWheel&&Ae(t,sa,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&Ae(t,ta,this.onDblclick=this.dblclick.bind(this)),Ae(e.ownerDocument,ia,this.onCropMove=this.cropMove.bind(this)),Ae(e.ownerDocument,na,this.onCropEnd=this.cropEnd.bind(this)),a.responsive&&Ae(window,oa,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,a=this.options,t=this.cropper;Ee(a.cropstart)&&Ie(e,pt,a.cropstart),Ee(a.cropmove)&&Ie(e,Ce,a.cropmove),Ee(a.cropend)&&Ie(e,xe,a.cropend),Ee(a.crop)&&Ie(e,ge,a.crop),Ee(a.zoom)&&Ie(e,Ot,a.zoom),Ie(t,aa,this.onCropStart),a.zoomable&&a.zoomOnWheel&&Ie(t,sa,this.onWheel,{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&Ie(t,ta,this.onDblclick),Ie(e.ownerDocument,ia,this.onCropMove),Ie(e.ownerDocument,na,this.onCropEnd),a.responsive&&Ie(window,oa,this.onResize)}},Pi={resize:function(){if(!this.disabled){var e=this.options,a=this.container,t=this.containerData,s=a.offsetWidth/t.width,r=a.offsetHeight/t.height,o=Math.abs(s-1)>Math.abs(r-1)?s:r;if(o!==1){var u,g;e.restore&&(u=this.getCanvasData(),g=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(ue(u,function(f,c){u[c]=f*o})),this.setCropBoxData(ue(g,function(f,c){g[c]=f*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===Ze||this.setDragMode(yi(this.dragBox,Se)?Ke:Le)},wheel:function(e){var a=this,t=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){a.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*t,e)))},cropStart:function(e){var a=e.buttons,t=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(W(a)&&a!==1||W(t)&&t!==0||e.ctrlKey))){var s=this.options,r=this.pointers,o;e.changedTouches?ue(e.changedTouches,function(u){r[u.identifier]=Tt(u)}):r[e.pointerId||0]=Tt(e),Object.keys(r).length>1&&s.zoomable&&s.zoomOnTouch?o=U:o=_t(e.target,b),ui.test(o)&&lt(this.element,pt,{originalEvent:e,action:o})!==!1&&(e.preventDefault(),this.action=o,this.cropping=!1,o===O&&(this.cropping=!0,me(this.dragBox,S)))}},cropMove:function(e){var a=this.action;if(!(this.disabled||!a)){var t=this.pointers;e.preventDefault(),lt(this.element,Ce,{originalEvent:e,action:a})!==!1&&(e.changedTouches?ue(e.changedTouches,function(s){ne(t[s.identifier]||{},Tt(s,!0))}):ne(t[e.pointerId||0]||{},Tt(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var a=this.action,t=this.pointers;e.changedTouches?ue(e.changedTouches,function(s){delete t[s.identifier]}):delete t[e.pointerId||0],a&&(e.preventDefault(),Object.keys(t).length||(this.action=""),this.cropping&&(this.cropping=!1,st(this.dragBox,S,this.cropped&&this.options.modal)),lt(this.element,xe,{originalEvent:e,action:a}))}}},_i={change:function(e){var a=this.options,t=this.canvasData,s=this.containerData,r=this.cropBoxData,o=this.pointers,u=this.action,g=a.aspectRatio,f=r.left,c=r.top,d=r.width,p=r.height,F=f+d,X=c+p,re=0,Q=0,fe=s.width,pe=s.height,ce=!0,We;!g&&e.shiftKey&&(g=d&&p?d/p:1),this.limited&&(re=r.minLeft,Q=r.minTop,fe=re+Math.min(s.width,t.width,t.left+t.width),pe=Q+Math.min(s.height,t.height,t.top+t.height));var ke=o[Object.keys(o)[0]],y={x:ke.endX-ke.startX,y:ke.endY-ke.startY},J=function(Ne){switch(Ne){case Z:F+y.x>fe&&(y.x=fe-F);break;case Y:f+y.x<re&&(y.x=re-f);break;case oe:c+y.y<Q&&(y.y=Q-c);break;case le:X+y.y>pe&&(y.y=pe-X);break}};switch(u){case B:f+=y.x,c+=y.y;break;case Z:if(y.x>=0&&(F>=fe||g&&(c<=Q||X>=pe))){ce=!1;break}J(Z),d+=y.x,d<0&&(u=Y,d=-d,f-=d),g&&(p=d/g,c+=(r.height-p)/2);break;case oe:if(y.y<=0&&(c<=Q||g&&(f<=re||F>=fe))){ce=!1;break}J(oe),p-=y.y,c+=y.y,p<0&&(u=le,p=-p,c-=p),g&&(d=p*g,f+=(r.width-d)/2);break;case Y:if(y.x<=0&&(f<=re||g&&(c<=Q||X>=pe))){ce=!1;break}J(Y),d-=y.x,f+=y.x,d<0&&(u=Z,d=-d,f-=d),g&&(p=d/g,c+=(r.height-p)/2);break;case le:if(y.y>=0&&(X>=pe||g&&(f<=re||F>=fe))){ce=!1;break}J(le),p+=y.y,p<0&&(u=oe,p=-p,c-=p),g&&(d=p*g,f+=(r.width-d)/2);break;case we:if(g){if(y.y<=0&&(c<=Q||F>=fe)){ce=!1;break}J(oe),p-=y.y,c+=y.y,d=p*g}else J(oe),J(Z),y.x>=0?F<fe?d+=y.x:y.y<=0&&c<=Q&&(ce=!1):d+=y.x,y.y<=0?c>Q&&(p-=y.y,c+=y.y):(p-=y.y,c+=y.y);d<0&&p<0?(u=he,p=-p,d=-d,c-=p,f-=d):d<0?(u=E,d=-d,f-=d):p<0&&(u=K,p=-p,c-=p);break;case E:if(g){if(y.y<=0&&(c<=Q||f<=re)){ce=!1;break}J(oe),p-=y.y,c+=y.y,d=p*g,f+=r.width-d}else J(oe),J(Y),y.x<=0?f>re?(d-=y.x,f+=y.x):y.y<=0&&c<=Q&&(ce=!1):(d-=y.x,f+=y.x),y.y<=0?c>Q&&(p-=y.y,c+=y.y):(p-=y.y,c+=y.y);d<0&&p<0?(u=K,p=-p,d=-d,c-=p,f-=d):d<0?(u=we,d=-d,f-=d):p<0&&(u=he,p=-p,c-=p);break;case he:if(g){if(y.x<=0&&(f<=re||X>=pe)){ce=!1;break}J(Y),d-=y.x,f+=y.x,p=d/g}else J(le),J(Y),y.x<=0?f>re?(d-=y.x,f+=y.x):y.y>=0&&X>=pe&&(ce=!1):(d-=y.x,f+=y.x),y.y>=0?X<pe&&(p+=y.y):p+=y.y;d<0&&p<0?(u=we,p=-p,d=-d,c-=p,f-=d):d<0?(u=K,d=-d,f-=d):p<0&&(u=E,p=-p,c-=p);break;case K:if(g){if(y.x>=0&&(F>=fe||X>=pe)){ce=!1;break}J(Z),d+=y.x,p=d/g}else J(le),J(Z),y.x>=0?F<fe?d+=y.x:y.y>=0&&X>=pe&&(ce=!1):d+=y.x,y.y>=0?X<pe&&(p+=y.y):p+=y.y;d<0&&p<0?(u=E,p=-p,d=-d,c-=p,f-=d):d<0?(u=he,d=-d,f-=d):p<0&&(u=we,p=-p,c-=p);break;case M:this.move(y.x,y.y),ce=!1;break;case U:this.zoom(Di(o),e),ce=!1;break;case O:if(!y.x||!y.y){ce=!1;break}We=pa(this.cropper),f=ke.startX-We.left,c=ke.startY-We.top,d=r.minWidth,p=r.minHeight,y.x>0?u=y.y>0?K:we:y.x<0&&(f-=d,u=y.y>0?he:E),y.y<0&&(c-=p),this.cropped||(ze(this.cropBox,q),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}ce&&(r.width=d,r.height=p,r.left=f,r.top=c,this.action=u,this.renderCropBox()),ue(o,function(ve){ve.startX=ve.endX,ve.startY=ve.endY})}},Li={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&me(this.dragBox,S),ze(this.cropBox,q),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ne({},this.initialImageData),this.canvasData=ne({},this.initialCanvasData),this.cropBoxData=ne({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ne(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ze(this.dragBox,S),me(this.cropBox,q)),this},replace:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),a?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,ue(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ze(this.cropper,Ge)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,me(this.cropper,Ge)),this},destroy:function(){var e=this.element;return e[A]?(e[A]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.canvasData,s=t.left,r=t.top;return this.moveTo(It(e)?e:s+Number(e),It(a)?a:r+Number(a))},moveTo:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.canvasData,s=!1;return e=Number(e),a=Number(a),this.ready&&!this.disabled&&this.options.movable&&(W(e)&&(t.left=e,s=!0),W(a)&&(t.top=a,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,a){var t=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(t.width*e/t.naturalWidth,null,a)},zoomTo:function(e,a,t){var s=this.options,r=this.canvasData,o=r.width,u=r.height,g=r.naturalWidth,f=r.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var c=g*e,d=f*e;if(lt(this.element,Ot,{ratio:e,oldRatio:o/g,originalEvent:t})===!1)return this;if(t){var p=this.pointers,F=pa(this.cropper),X=p&&Object.keys(p).length?Si(p):{pageX:t.pageX,pageY:t.pageY};r.left-=(c-o)*((X.pageX-F.left-r.left)/o),r.top-=(d-u)*((X.pageY-F.top-r.top)/u)}else rt(a)&&W(a.x)&&W(a.y)?(r.left-=(c-o)*((a.x-r.left)/o),r.top-=(d-u)*((a.y-r.top)/u)):(r.left-=(c-o)/2,r.top-=(d-u)/2);r.width=c,r.height=d,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),W(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var a=this.imageData.scaleY;return this.scale(e,W(a)?a:1)},scaleY:function(e){var a=this.imageData.scaleX;return this.scale(W(a)?a:1,e)},scale:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,t=this.imageData,s=!1;return e=Number(e),a=Number(a),this.ready&&!this.disabled&&this.options.scalable&&(W(e)&&(t.scaleX=e,s=!0),W(a)&&(t.scaleY=a,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=this.options,t=this.imageData,s=this.canvasData,r=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:r.left-s.left,y:r.top-s.top,width:r.width,height:r.height};var u=t.width/t.naturalWidth;if(ue(o,function(c,d){o[d]=c/u}),e){var g=Math.round(o.y+o.height),f=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=f-o.x,o.height=g-o.y}}else o={x:0,y:0,width:0,height:0};return a.rotatable&&(o.rotate=t.rotate||0),a.scalable&&(o.scaleX=t.scaleX||1,o.scaleY=t.scaleY||1),o},setData:function(e){var a=this.options,t=this.imageData,s=this.canvasData,r={};if(this.ready&&!this.disabled&&rt(e)){var o=!1;a.rotatable&&W(e.rotate)&&e.rotate!==t.rotate&&(t.rotate=e.rotate,o=!0),a.scalable&&(W(e.scaleX)&&e.scaleX!==t.scaleX&&(t.scaleX=e.scaleX,o=!0),W(e.scaleY)&&e.scaleY!==t.scaleY&&(t.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var u=t.width/t.naturalWidth;W(e.x)&&(r.left=e.x*u+s.left),W(e.y)&&(r.top=e.y*u+s.top),W(e.width)&&(r.width=e.width*u),W(e.height)&&(r.height=e.height*u),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?ne({},this.containerData):{}},getImageData:function(){return this.sized?ne({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,a={};return this.ready&&ue(["left","top","width","height","naturalWidth","naturalHeight"],function(t){a[t]=e[t]}),a},setCanvasData:function(e){var a=this.canvasData,t=a.aspectRatio;return this.ready&&!this.disabled&&rt(e)&&(W(e.left)&&(a.left=e.left),W(e.top)&&(a.top=e.top),W(e.width)?(a.width=e.width,a.height=e.width/t):W(e.height)&&(a.height=e.height,a.width=e.height*t),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,a;return this.ready&&this.cropped&&(a={left:e.left,top:e.top,width:e.width,height:e.height}),a||{}},setCropBoxData:function(e){var a=this.cropBoxData,t=this.options.aspectRatio,s,r;return this.ready&&this.cropped&&!this.disabled&&rt(e)&&(W(e.left)&&(a.left=e.left),W(e.top)&&(a.top=e.top),W(e.width)&&e.width!==a.width&&(s=!0,a.width=e.width),W(e.height)&&e.height!==a.height&&(r=!0,a.height=e.height),t&&(s?a.height=a.width/t:r&&(a.width=a.height*t)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var a=this.canvasData,t=Mi(this.image,this.imageData,a,e);if(!this.cropped)return t;var s=this.getData(e.rounded),r=s.x,o=s.y,u=s.width,g=s.height,f=t.width/Math.floor(a.naturalWidth);f!==1&&(r*=f,o*=f,u*=f,g*=f);var c=u/g,d=Fe({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),p=Fe({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),F=Fe({aspectRatio:c,width:e.width||(f!==1?t.width:u),height:e.height||(f!==1?t.height:g)}),X=F.width,re=F.height;X=Math.min(d.width,Math.max(p.width,X)),re=Math.min(d.height,Math.max(p.height,re));var Q=document.createElement("canvas"),fe=Q.getContext("2d");Q.width=ot(X),Q.height=ot(re),fe.fillStyle=e.fillColor||"transparent",fe.fillRect(0,0,X,re);var pe=e.imageSmoothingEnabled,ce=pe===void 0?!0:pe,We=e.imageSmoothingQuality;fe.imageSmoothingEnabled=ce,We&&(fe.imageSmoothingQuality=We);var ke=t.width,y=t.height,J=r,ve=o,Ne,Xe,Je,et,qe,He;J<=-u||J>ke?(J=0,Ne=0,Je=0,qe=0):J<=0?(Je=-J,J=0,Ne=Math.min(ke,u+J),qe=Ne):J<=ke&&(Je=0,Ne=Math.min(u,ke-J),qe=Ne),Ne<=0||ve<=-g||ve>y?(ve=0,Xe=0,et=0,He=0):ve<=0?(et=-ve,ve=0,Xe=Math.min(y,g+ve),He=Xe):ve<=y&&(et=0,Xe=Math.min(g,y-ve),He=Xe);var Me=[J,ve,Ne,Xe];if(qe>0&&He>0){var tt=X/u;Me.push(Je*tt,et*tt,qe*tt,He*tt)}return fe.drawImage.apply(fe,[t].concat(_(Me.map(function(kt){return Math.floor(ot(kt))})))),Q},setAspectRatio:function(e){var a=this.options;return!this.disabled&&!It(e)&&(a.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var a=this.options,t=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var r=e===Le,o=a.movable&&e===Ke;e=r||o?e:Ze,a.dragMode=e,gt(t,b,e),st(t,Se,r),st(t,l,o),a.cropBoxMovable||(gt(s,b,e),st(s,Se,r),st(s,l,o))}return this}},zi=k.Cropper,wa=function(){function n(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(V(this,n),!e||!hi.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=ne({},da,rt(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return $(n,[{key:"init",value:function(){var a=this.element,t=a.tagName.toLowerCase(),s;if(!a[A]){if(a[A]=this,t==="img"){if(this.isImg=!0,s=a.getAttribute("src")||"",this.originalUrl=s,!s)return;s=a.src}else t==="canvas"&&window.HTMLCanvasElement&&(s=a.toDataURL());this.load(s)}}},{key:"load",value:function(a){var t=this;if(a){this.url=a,this.imageData={};var s=this.element,r=this.options;if(!r.rotatable&&!r.scalable&&(r.checkOrientation=!1),!r.checkOrientation||!window.ArrayBuffer){this.clone();return}if(ci.test(a)){di.test(a)?this.read(Vi(a)):this.clone();return}var o=new XMLHttpRequest,u=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=u,o.onerror=u,o.ontimeout=u,o.onprogress=function(){o.getResponseHeader("content-type")!==la&&o.abort()},o.onload=function(){t.read(o.response)},o.onloadend=function(){t.reloading=!1,t.xhr=null},r.checkCrossOrigin&&ga(a)&&s.crossOrigin&&(a=ba(a)),o.open("GET",a,!0),o.responseType="arraybuffer",o.withCredentials=s.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(a){var t=this.options,s=this.imageData,r=Ai(a),o=0,u=1,g=1;if(r>1){this.url=Ri(a,la);var f=Ni(r);o=f.rotate,u=f.scaleX,g=f.scaleY}t.rotatable&&(s.rotate=o),t.scalable&&(s.scaleX=u,s.scaleY=g),this.clone()}},{key:"clone",value:function(){var a=this.element,t=this.url,s=a.crossOrigin,r=t;this.options.checkCrossOrigin&&ga(t)&&(s||(s="anonymous"),r=ba(t)),this.crossOrigin=s,this.crossOriginUrl=r;var o=document.createElement("img");s&&(o.crossOrigin=s),o.src=r||t,o.alt=a.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),me(o,_e),a.parentNode.insertBefore(o,a.nextSibling)}},{key:"start",value:function(){var a=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var s=k.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(k.navigator.userAgent),r=function(f,c){ne(a.imageData,{naturalWidth:f,naturalHeight:c,aspectRatio:f/c}),a.initialImageData=ne({},a.imageData),a.sizing=!1,a.sized=!0,a.build()};if(t.naturalWidth&&!s){r(t.naturalWidth,t.naturalHeight);return}var o=document.createElement("img"),u=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){r(o.width,o.height),s||u.removeChild(o)},o.src=t.src,s||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",u.appendChild(o))}},{key:"stop",value:function(){var a=this.image;a.onload=null,a.onerror=null,a.parentNode.removeChild(a),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var a=this.element,t=this.options,s=this.image,r=a.parentNode,o=document.createElement("div");o.innerHTML=fi;var u=o.querySelector(".".concat(A,"-container")),g=u.querySelector(".".concat(A,"-canvas")),f=u.querySelector(".".concat(A,"-drag-box")),c=u.querySelector(".".concat(A,"-crop-box")),d=c.querySelector(".".concat(A,"-face"));this.container=r,this.cropper=u,this.canvas=g,this.dragBox=f,this.cropBox=c,this.viewBox=u.querySelector(".".concat(A,"-view-box")),this.face=d,g.appendChild(s),me(a,q),r.insertBefore(u,a.nextSibling),ze(s,_e),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,me(c,q),t.guides||me(c.getElementsByClassName("".concat(A,"-dashed")),q),t.center||me(c.getElementsByClassName("".concat(A,"-center")),q),t.background&&me(u,"".concat(A,"-bg")),t.highlight||me(d,Re),t.cropBoxMovable&&(me(d,l),gt(d,b,B)),t.cropBoxResizable||(me(c.getElementsByClassName("".concat(A,"-line")),q),me(c.getElementsByClassName("".concat(A,"-point")),q)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),Ee(t.ready)&&Ae(a,ra,t.ready,{once:!0}),lt(a,ra)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var a=this.cropper.parentNode;a&&a.removeChild(this.cropper),ze(this.element,q)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=zi,n}},{key:"setDefaults",value:function(a){ne(da,rt(a)&&a)}}])}();return ne(wa.prototype,Bi,Oi,Ii,Pi,_i,Li),wa})})(ii);var ws=ii.exports;Object.defineProperty(ai,"__esModule",{value:!0});var za=ys,xs=ws,Cs=Ds(xs);function Ds(i){return i&&i.__esModule?i:{default:i}}function Ss(i,h){var w={};for(var x in i)h.indexOf(x)>=0||Object.prototype.hasOwnProperty.call(i,x)&&(w[x]=i[x]);return w}var Es=typeof window>"u"?[String,Array]:[String,Array,Element,NodeList],Ms=ai.default={render:function(){var h=this.crossorigin||void 0;return(0,za.h)("div",{style:this.containerStyle},[(0,za.h)("img",{ref:"img",src:this.src,alt:this.alt||"image",style:[{"max-width":"100%"},this.imgStyle],crossorigin:h})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,initialAspectRatio:Number,aspectRatio:Number,data:Object,preview:Es,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},crossorigin:{type:String},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var h=this.$options.props;h.containerStyle,h.src,h.alt,h.imgStyle;var w=Ss(h,["containerStyle","src","alt","imgStyle"]),x={};for(var v in w)this[v]!==void 0&&(x[v]=this[v]);this.cropper=new Cs.default(this.$refs.img,x)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.cropper.replace(h,w)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(h,w){return this.cropper.move(h,w)},moveTo:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;return this.cropper.moveTo(h,w)},relativeZoom:function(h,w){return this.cropper.zoom(h,w)},zoomTo:function(h,w){return this.cropper.zoomTo(h,w)},rotate:function(h){return this.cropper.rotate(h)},rotateTo:function(h){return this.cropper.rotateTo(h)},scaleX:function(h){return this.cropper.scaleX(h)},scaleY:function(h){return this.cropper.scaleY(h)},scale:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;return this.cropper.scale(h,w)},getData:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.cropper.getData(h)},setData:function(h){return this.cropper.setData(h)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(h){return this.cropper.setCanvasData(h)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(h){return this.cropper.setCropBoxData(h)},getCroppedCanvas:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.cropper.getCroppedCanvas(h)},setAspectRatio:function(h){return this.cropper.setAspectRatio(h)},setDragMode:function(h){return this.cropper.setDragMode(h)}}};const Ts=nt({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ks(i){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:w}=h;let x=0,v=0;const C=ae(null),D=Te(0),V=Te(0),j=Te(0),$=Te(!1),I=Te(!1),_=ee(()=>Number(i.scrollThreshold)),z=ee(()=>qa((_.value-D.value)/_.value||0)),L=()=>{const N=C.value;if(!N||w&&!w.value)return;x=D.value,D.value="window"in N?N.pageYOffset:N.scrollTop;const H=N instanceof Window?document.documentElement.scrollHeight:N.scrollHeight;if(v!==H){v=H;return}I.value=D.value<x,j.value=Math.abs(D.value-_.value)};return Pe(I,()=>{V.value=V.value||D.value}),Pe($,()=>{V.value=0}),Mt(()=>{Pe(()=>i.scrollTarget,N=>{var ie;const H=N?document.querySelector(N):window;H&&H!==C.value&&((ie=C.value)==null||ie.removeEventListener("scroll",L),C.value=H,C.value.addEventListener("scroll",L,{passive:!0}))},{immediate:!0})}),Bt(()=>{var N;(N=C.value)==null||N.removeEventListener("scroll",L)}),w&&Pe(w,L,{immediate:!0}),{scrollThreshold:_,currentScroll:D,currentThreshold:j,isScrollActive:$,scrollRatio:z,isScrollingUp:I,savedScroll:V}}const Vs=nt({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:i=>["top","bottom"].includes(i)},...ls(),...ei(),...Ts(),height:{type:[Number,String],default:64}},"VAppBar"),Rs=vt()({name:"VAppBar",props:Vs(),emits:{"update:modelValue":i=>!0},setup(i,h){let{slots:w}=h;const x=ae(),v=ht(i,"modelValue"),C=ee(()=>{var G;const k=new Set(((G=i.scrollBehavior)==null?void 0:G.split(" "))??[]);return{hide:k.has("hide"),fullyHide:k.has("fully-hide"),inverted:k.has("inverted"),collapse:k.has("collapse"),elevate:k.has("elevate"),fadeImage:k.has("fade-image")}}),D=ee(()=>{const k=C.value;return k.hide||k.fullyHide||k.inverted||k.collapse||k.elevate||k.fadeImage||!v.value}),{currentScroll:V,scrollThreshold:j,isScrollingUp:$,scrollRatio:I}=ks(i,{canScroll:D}),_=Ye(()=>C.value.hide||C.value.fullyHide),z=ee(()=>i.collapse||C.value.collapse&&(C.value.inverted?I.value>0:I.value===0)),L=ee(()=>i.flat||C.value.fullyHide&&!v.value||C.value.elevate&&(C.value.inverted?V.value>0:V.value===0)),N=ee(()=>C.value.fadeImage?C.value.inverted?1-I.value:I.value:void 0),H=ee(()=>{var te,A;if(C.value.hide&&C.value.inverted)return 0;const k=((te=x.value)==null?void 0:te.contentHeight)??0,G=((A=x.value)==null?void 0:A.extensionHeight)??0;return _.value?V.value<j.value||C.value.fullyHide?k+G:k:k+G});Et(()=>!!i.scrollBehavior,()=>{Kt(()=>{_.value?C.value.inverted?v.value=V.value>j.value:v.value=$.value||V.value<j.value:v.value=!0})});const{ssrBootStyles:ie}=ti(),{layoutItemStyles:T}=Ja({id:i.name,order:ee(()=>parseInt(i.order,10)),position:Ye(()=>i.location),layoutSize:H,elementSize:Te(void 0),active:v,absolute:Ye(()=>i.absolute)});return mt(()=>{const k=Ft.filterProps(i);return m(Ft,Oe({ref:x,class:["v-app-bar",{"v-app-bar--bottom":i.location==="bottom"},i.class],style:[{...T.value,"--v-toolbar-image-opacity":N.value,height:void 0,...ie.value},i.style]},k,{collapse:z.value,flat:L.value}),w)}),{}}}),As=nt({...So({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Ns=vt()({name:"VAppBarNavIcon",props:As(),setup(i,h){let{slots:w}=h;return mt(()=>m(De,Oe(i,{class:["v-app-bar-nav-icon"]}),w)),{}}});function Bs(){function i(w){var v,C;return[...((v=w.dataTransfer)==null?void 0:v.items)??[]].filter(D=>D.kind==="file").map(D=>D.webkitGetAsEntry()).filter(Boolean).length>0||[...((C=w.dataTransfer)==null?void 0:C.files)??[]].length>0}async function h(w){var C,D;const x=[],v=[...((C=w.dataTransfer)==null?void 0:C.items)??[]].filter(V=>V.kind==="file").map(V=>V.webkitGetAsEntry()).filter(Boolean);if(v.length)for(const V of v){const j=await ni(V,ri(".",V));x.push(...j.map($=>$.file))}else x.push(...((D=w.dataTransfer)==null?void 0:D.files)??[]);return x}return{handleDrop:h,hasFilesOrFolders:i}}function ni(i){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((w,x)=>{i.isFile?i.file(C=>w([{file:C,path:h}]),x):i.isDirectory&&i.createReader().readEntries(async C=>{const D=[];for(const V of C)D.push(...await ni(V,ri(h,V)));w(D)})})}function ri(i,h){return h.isDirectory?`${i}/${h.name}`:i}const Os=nt({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:i=>typeof i=="boolean"||[1e3,1024].includes(Number(i))},...ea({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:i=>i.multiple?[]:null,validator:i=>Ga(i).every(h=>h!=null&&typeof h=="object")},...os({clearable:!0})},"VFileInput"),Ha=vt()({name:"VFileInput",inheritAttrs:!1,props:Os(),emits:{"click:control":i=>!0,"mousedown:control":i=>!0,"update:focused":i=>!0,"update:modelValue":i=>!0},setup(i,h){let{attrs:w,emit:x,slots:v}=h;const{t:C}=Eo(),D=ht(i,"modelValue",i.modelValue,E=>Ga(E),E=>!i.multiple&&Array.isArray(E)?E[0]:E),{isFocused:V,focus:j,blur:$}=Jt(i),I=ee(()=>typeof i.showSize!="boolean"?i.showSize:void 0),_=ee(()=>(D.value??[]).reduce((E,K)=>{let{size:he=0}=K;return E+he},0)),z=ee(()=>Ea(_.value,I.value)),L=ee(()=>(D.value??[]).map(E=>{const{name:K="",size:he=0}=E;return i.showSize?`${K} (${Ea(he,I.value)})`:K})),N=ee(()=>{var K;const E=((K=D.value)==null?void 0:K.length)??0;return i.showSize?C(i.counterSizeString,E,z.value):C(i.counterString,E)}),H=ae(),ie=ae(),T=ae(),k=Ye(()=>V.value||i.active),G=ee(()=>["plain","underlined"].includes(i.variant)),te=Te(!1),{handleDrop:A,hasFilesOrFolders:B}=Bs();function O(){var E;T.value!==document.activeElement&&((E=T.value)==null||E.focus()),V.value||j()}function M(E){var K;(K=T.value)==null||K.click()}function U(E){x("mousedown:control",E)}function Z(E){var K;(K=T.value)==null||K.click(),x("click:control",E)}function Y(E){E.stopPropagation(),O(),qt(()=>{D.value=[],Mo(i["onClick:clear"],E)})}function le(E){E.preventDefault(),E.stopImmediatePropagation(),te.value=!0}function oe(E){E.preventDefault(),te.value=!1}async function we(E){if(E.preventDefault(),E.stopImmediatePropagation(),te.value=!1,!T.value||!B(E))return;const K=new DataTransfer;for(const he of await A(E))K.items.add(he);T.value.files=K.files,T.value.dispatchEvent(new Event("change",{bubbles:!0}))}return Pe(D,E=>{(!Array.isArray(E)||!E.length)&&T.value&&(T.value.value="")}),mt(()=>{const E=!!(v.counter||i.counter),K=!!(E||v.details),[he,Se]=Zt(w),{modelValue:Ge,...q}=ft.filterProps(i),_e=Pa.filterProps(i);return m(ft,Oe({ref:H,modelValue:i.multiple?D.value:D.value[0],class:["v-file-input",{"v-file-input--chips":!!i.chips,"v-file-input--dragging":te.value,"v-file-input--hide":i.hideInput,"v-input--plain-underlined":G.value},i.class],style:i.style,"onClick:prepend":M},he,q,{centerAffix:!G.value,focused:V.value}),{...v,default:Re=>{let{id:S,isDisabled:l,isDirty:b,isReadonly:se,isValid:Le}=Re;return m(Pa,Oe({ref:ie,"prepend-icon":i.prependIcon,onMousedown:U,onClick:Z,"onClick:clear":Y,"onClick:prependInner":i["onClick:prependInner"],"onClick:appendInner":i["onClick:appendInner"]},_e,{id:S.value,active:k.value||b.value,dirty:b.value||i.dirty,disabled:l.value,focused:V.value,error:Le.value===!1,onDragover:le,onDrop:we}),{...v,default:Ke=>{var xe;let{props:{class:Ze,...ge}}=Ke;return P(Be,null,[P("input",Oe({ref:T,type:"file",readonly:se.value,disabled:l.value,multiple:i.multiple,name:i.name,onClick:Ce=>{Ce.stopPropagation(),se.value&&Ce.preventDefault(),O()},onChange:Ce=>{if(!Ce.target)return;const pt=Ce.target;D.value=[...pt.files??[]]},onDragleave:oe,onFocus:O,onBlur:$},ge,Se),null),P("div",{class:Nt(Ze)},[!!((xe=D.value)!=null&&xe.length)&&!i.hideInput&&(v.selection?v.selection({fileNames:L.value,totalBytes:_.value,totalBytesReadable:z.value}):i.chips?L.value.map(Ce=>m(Ka,{key:Ce,size:"small",text:Ce},null)):L.value.join(", "))])])}})},details:K?Re=>{var S,l;return P(Be,null,[(S=v.details)==null?void 0:S.call(v,Re),E&&P(Be,null,[P("span",null,null),m(ss,{active:!!((l=D.value)!=null&&l.length),value:N.value,disabled:i.disabled},v.counter)])])}:void 0})}),Qt({},H,ie,T)}});function Is(i){let{rootEl:h,isSticky:w,layoutItemStyles:x}=i;const v=Te(!1),C=Te(0),D=ee(()=>{const $=typeof v.value=="boolean"?"top":v.value;return[w.value?{top:"auto",bottom:"auto",height:void 0}:void 0,v.value?{[$]:To(C.value)}:{top:x.value.top}]});Mt(()=>{Pe(w,$=>{$?window.addEventListener("scroll",j,{passive:!0}):window.removeEventListener("scroll",j)},{immediate:!0})}),Bt(()=>{window.removeEventListener("scroll",j)});let V=0;function j(){const $=V>window.scrollY?"up":"down",I=h.value.getBoundingClientRect(),_=parseFloat(x.value.top??0),z=window.scrollY-Math.max(0,C.value-_),L=I.height+Math.max(C.value,_)-window.scrollY-window.innerHeight,N=parseFloat(getComputedStyle(h.value).getPropertyValue("--v-body-scroll-y"))||0;I.height<window.innerHeight-_?(v.value="top",C.value=_):$==="up"&&v.value==="bottom"||$==="down"&&v.value==="top"?(C.value=window.scrollY+I.top-N,v.value=!0):$==="down"&&L<=0?(C.value=0,v.value="bottom"):$==="up"&&z<=0&&(N?v.value!=="top"&&(C.value=-z+N+_,v.value="top"):(C.value=I.top+z,v.value="top")),V=window.scrollY}return{isStuck:v,stickyStyles:D}}const Ps=100,_s=20;function Ua(i){return(i<0?-1:1)*Math.sqrt(Math.abs(i))*1.41421356237}function Ya(i){if(i.length<2)return 0;if(i.length===2)return i[1].t===i[0].t?0:(i[1].d-i[0].d)/(i[1].t-i[0].t);let h=0;for(let w=i.length-1;w>0;w--){if(i[w].t===i[w-1].t)continue;const x=Ua(h),v=(i[w].d-i[w-1].d)/(i[w].t-i[w-1].t);h+=(v-x)*Math.abs(v),w===i.length-1&&(h*=.5)}return Ua(h)*1e3}function Ls(){const i={};function h(v){Array.from(v.changedTouches).forEach(C=>{(i[C.identifier]??(i[C.identifier]=new ko(_s))).push([v.timeStamp,C])})}function w(v){Array.from(v.changedTouches).forEach(C=>{delete i[C.identifier]})}function x(v){var $;const C=($=i[v])==null?void 0:$.values().reverse();if(!C)throw new Error(`No samples for touch id ${v}`);const D=C[0],V=[],j=[];for(const I of C){if(D[0]-I[0]>Ps)break;V.push({t:I[0],d:I[1].clientX}),j.push({t:I[0],d:I[1].clientY})}return{x:Ya(V),y:Ya(j),get direction(){const{x:I,y:_}=this,[z,L]=[Math.abs(I),Math.abs(_)];return z>L&&I>=0?"right":z>L&&I<=0?"left":L>z&&_>=0?"down":L>z&&_<=0?"up":zs()}}}return{addMovement:h,endTouch:w,getVelocity:x}}function zs(){throw new Error}function Hs(i){let{el:h,isActive:w,isTemporary:x,width:v,touchless:C,position:D}=i;Mt(()=>{window.addEventListener("touchstart",k,{passive:!0}),window.addEventListener("touchmove",G,{passive:!1}),window.addEventListener("touchend",te,{passive:!0})}),Bt(()=>{window.removeEventListener("touchstart",k),window.removeEventListener("touchmove",G),window.removeEventListener("touchend",te)});const V=ee(()=>["left","right"].includes(D.value)),{addMovement:j,endTouch:$,getVelocity:I}=Ls();let _=!1;const z=Te(!1),L=Te(0),N=Te(0);let H;function ie(B,O){return(D.value==="left"?B:D.value==="right"?document.documentElement.clientWidth-B:D.value==="top"?B:D.value==="bottom"?document.documentElement.clientHeight-B:ut())-(O?v.value:0)}function T(B){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const M=D.value==="left"?(B-N.value)/v.value:D.value==="right"?(document.documentElement.clientWidth-B-N.value)/v.value:D.value==="top"?(B-N.value)/v.value:D.value==="bottom"?(document.documentElement.clientHeight-B-N.value)/v.value:ut();return O?qa(M):M}function k(B){if(C.value)return;const O=B.changedTouches[0].clientX,M=B.changedTouches[0].clientY,U=25,Z=D.value==="left"?O<U:D.value==="right"?O>document.documentElement.clientWidth-U:D.value==="top"?M<U:D.value==="bottom"?M>document.documentElement.clientHeight-U:ut(),Y=w.value&&(D.value==="left"?O<v.value:D.value==="right"?O>document.documentElement.clientWidth-v.value:D.value==="top"?M<v.value:D.value==="bottom"?M>document.documentElement.clientHeight-v.value:ut());(Z||Y||w.value&&x.value)&&(H=[O,M],N.value=ie(V.value?O:M,w.value),L.value=T(V.value?O:M),_=N.value>-20&&N.value<80,$(B),j(B))}function G(B){const O=B.changedTouches[0].clientX,M=B.changedTouches[0].clientY;if(_){if(!B.cancelable){_=!1;return}const Z=Math.abs(O-H[0]),Y=Math.abs(M-H[1]);(V.value?Z>Y&&Z>3:Y>Z&&Y>3)?(z.value=!0,_=!1):(V.value?Y:Z)>3&&(_=!1)}if(!z.value)return;B.preventDefault(),j(B);const U=T(V.value?O:M,!1);L.value=Math.max(0,Math.min(1,U)),U>1?N.value=ie(V.value?O:M,!0):U<0&&(N.value=ie(V.value?O:M,!1))}function te(B){if(_=!1,!z.value)return;j(B),z.value=!1;const O=I(B.changedTouches[0].identifier),M=Math.abs(O.x),U=Math.abs(O.y);(V.value?M>U&&M>400:U>M&&U>3)?w.value=O.direction===({left:"right",right:"left",top:"down",bottom:"up"}[D.value]||ut()):w.value=L.value>.5}const A=ee(()=>z.value?{transform:D.value==="left"?`translateX(calc(-100% + ${L.value*v.value}px))`:D.value==="right"?`translateX(calc(100% - ${L.value*v.value}px))`:D.value==="top"?`translateY(calc(-100% + ${L.value*v.value}px))`:D.value==="bottom"?`translateY(calc(100% - ${L.value*v.value}px))`:ut(),transition:"none"}:void 0);return Et(z,()=>{var M,U;const B=((M=h.value)==null?void 0:M.style.transform)??null,O=((U=h.value)==null?void 0:U.style.transition)??null;Kt(()=>{var Z,Y,le,oe;(Y=h.value)==null||Y.style.setProperty("transform",((Z=A.value)==null?void 0:Z.transform)||"none"),(oe=h.value)==null||oe.style.setProperty("transition",((le=A.value)==null?void 0:le.transition)||null)}),Xa(()=>{var Z,Y;(Z=h.value)==null||Z.style.setProperty("transform",B),(Y=h.value)==null||Y.style.setProperty("transition",O)})}),{isDragging:z,dragProgress:L,dragStyles:A}}function ut(){throw new Error}const Us=["start","end","left","right","top","bottom"],Ys=nt({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:i=>Us.includes(i)},sticky:Boolean,...Xo(),...Wo(),...rs(),...Yo({mobile:null}),...Uo(),...ei(),...Ho(),...zo({tag:"nav"}),...Lo()},"VNavigationDrawer"),Ws=vt()({name:"VNavigationDrawer",props:Ys(),emits:{"update:modelValue":i=>!0,"update:rail":i=>!0},setup(i,h){let{attrs:w,emit:x,slots:v}=h;const{isRtl:C}=Vo(),{themeClasses:D}=Ro(i),{borderClasses:V}=Ao(i),{backgroundColorClasses:j,backgroundColorStyles:$}=Ma(()=>i.color),{elevationClasses:I}=No(i),{displayClasses:_,mobile:z}=Bo(i),{roundedClasses:L}=Oo(i),N=Io(),H=ht(i,"modelValue",null,q=>!!q),{ssrBootStyles:ie}=ti(),{scopeId:T}=is(),k=ae(),G=Te(!1),{runOpenDelay:te,runCloseDelay:A}=ns(i,q=>{G.value=q}),B=ee(()=>i.rail&&i.expandOnHover&&G.value?Number(i.width):Number(i.rail?i.railWidth:i.width)),O=ee(()=>Po(i.location,C.value)),M=Ye(()=>i.persistent),U=ee(()=>!i.permanent&&(z.value||i.temporary)),Z=ee(()=>i.sticky&&!U.value&&O.value!=="bottom");Et(()=>i.expandOnHover&&i.rail!=null,()=>{Pe(G,q=>x("update:rail",!q))}),Et(()=>!i.disableResizeWatcher,()=>{Pe(U,q=>!i.permanent&&qt(()=>H.value=!q))}),Et(()=>!i.disableRouteWatcher&&!!N,()=>{Pe(N.currentRoute,()=>U.value&&(H.value=!1))}),Pe(()=>i.permanent,q=>{q&&(H.value=!0)}),i.modelValue==null&&!U.value&&(H.value=i.permanent||!z.value);const{isDragging:Y,dragProgress:le}=Hs({el:k,isActive:H,isTemporary:U,width:B,touchless:Ye(()=>i.touchless),position:O}),oe=ee(()=>{const q=U.value?0:i.rail&&i.expandOnHover?Number(i.railWidth):B.value;return Y.value?q*le.value:q}),{layoutItemStyles:we,layoutItemScrimStyles:E}=Ja({id:i.name,order:ee(()=>parseInt(i.order,10)),position:O,layoutSize:oe,elementSize:B,active:ja(H),disableTransitions:Ye(()=>Y.value),absolute:ee(()=>i.absolute||Z.value&&typeof K.value!="string")}),{isStuck:K,stickyStyles:he}=Is({rootEl:k,isSticky:Z,layoutItemStyles:we}),Se=Ma(()=>typeof i.scrim=="string"?i.scrim:null),Ge=ee(()=>({...Y.value?{opacity:le.value*.2,transition:"none"}:void 0,...E.value}));return _o({VList:{bgColor:"transparent"}}),mt(()=>{const q=v.image||i.image;return P(Be,null,[m(i.tag,Oe({ref:k,onMouseenter:te,onMouseleave:A,class:["v-navigation-drawer",`v-navigation-drawer--${O.value}`,{"v-navigation-drawer--expand-on-hover":i.expandOnHover,"v-navigation-drawer--floating":i.floating,"v-navigation-drawer--is-hovering":G.value,"v-navigation-drawer--rail":i.rail,"v-navigation-drawer--temporary":U.value,"v-navigation-drawer--persistent":M.value,"v-navigation-drawer--active":H.value,"v-navigation-drawer--sticky":Z.value},D.value,j.value,V.value,_.value,I.value,L.value,i.class],style:[$.value,we.value,ie.value,he.value,i.style]},T,w),{default:()=>{var _e,Re,S;return[q&&P("div",{key:"image",class:"v-navigation-drawer__img"},[v.image?m(Za,{key:"image-defaults",disabled:!i.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:i.image}}},v.image):m(At,{key:"image-img",alt:"",cover:!0,height:"inherit",src:i.image},null)]),v.prepend&&P("div",{class:"v-navigation-drawer__prepend"},[(_e=v.prepend)==null?void 0:_e.call(v)]),P("div",{class:"v-navigation-drawer__content"},[(Re=v.default)==null?void 0:Re.call(v)]),v.append&&P("div",{class:"v-navigation-drawer__append"},[(S=v.append)==null?void 0:S.call(v)])]}}),m(Wa,{name:"fade-transition"},{default:()=>[U.value&&(Y.value||H.value)&&!!i.scrim&&P("div",Oe({class:["v-navigation-drawer__scrim",Se.backgroundColorClasses.value],style:[Ge.value,Se.backgroundColorStyles.value],onClick:()=>{M.value||(H.value=!1)}},T),null)]})])}),{isStuck:K}}}),Xs=nt({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ea(),...es()},"VSwitch"),js=vt()({name:"VSwitch",inheritAttrs:!1,props:Xs(),emits:{"update:focused":i=>!0,"update:modelValue":i=>!0,"update:indeterminate":i=>!0},setup(i,h){let{attrs:w,slots:x}=h;const v=ht(i,"indeterminate"),C=ht(i,"modelValue"),{loaderClasses:D}=jo(i),{isFocused:V,focus:j,blur:$}=Jt(i),I=ae(),_=ae(),z=$o&&window.matchMedia("(forced-colors: active)").matches,L=Ye(()=>typeof i.loading=="string"&&i.loading!==""?i.loading:i.color),N=Gt(),H=Ye(()=>i.id||`switch-${N}`);function ie(){v.value&&(v.value=!1)}function T(k){var G,te;k.stopPropagation(),k.preventDefault(),(te=(G=I.value)==null?void 0:G.input)==null||te.click()}return mt(()=>{const[k,G]=Zt(w),te=ft.filterProps(i),A=Ia.filterProps(i);return m(ft,Oe({ref:_,class:["v-switch",{"v-switch--flat":i.flat},{"v-switch--inset":i.inset},{"v-switch--indeterminate":v.value},D.value,i.class]},k,te,{modelValue:C.value,"onUpdate:modelValue":B=>C.value=B,id:H.value,focused:V.value,style:i.style}),{...x,default:B=>{let{id:O,messagesId:M,isDisabled:U,isReadonly:Z,isValid:Y}=B;const le={model:C,isValid:Y};return m(Ia,Oe({ref:I},A,{modelValue:C.value,"onUpdate:modelValue":[oe=>C.value=oe,ie],id:O.value,"aria-describedby":M.value,type:"checkbox","aria-checked":v.value?"mixed":void 0,disabled:U.value,readonly:Z.value,onFocus:j,onBlur:$},G),{...x,default:oe=>{let{backgroundColorClasses:we,backgroundColorStyles:E}=oe;return P("div",{class:Nt(["v-switch__track",z?void 0:we.value]),style:$t(E.value),onClick:T},[x["track-true"]&&P("div",{key:"prepend",class:"v-switch__track-true"},[x["track-true"](le)]),x["track-false"]&&P("div",{key:"append",class:"v-switch__track-false"},[x["track-false"](le)])])},input:oe=>{let{inputNode:we,icon:E,backgroundColorClasses:K,backgroundColorStyles:he}=oe;return P(Be,null,[we,P("div",{class:Nt(["v-switch__thumb",{"v-switch__thumb--filled":E||i.loading},i.inset||z?void 0:K.value]),style:$t(i.inset?void 0:he.value)},[x.thumb?m(Za,{defaults:{VIcon:{icon:E,size:"x-small"}}},{default:()=>[x.thumb({...le,icon:E})]}):m(Fo,null,{default:()=>[i.loading?m(qo,{name:"v-switch",active:!0,color:Y.value===!1?void 0:L.value},{default:Se=>x.loader?x.loader(Se):m(Qa,{active:Se.isActive,color:Se.color,indeterminate:!0,size:"16",width:"2"},null)}):E&&m(it,{key:String(E),icon:E,size:"x-small"},null)]})])])}})}})}),Qt({},_)}}),$s={class:"d-flex flex-column pa-4"},Fs={class:"ma-0 pa-0"},qs={class:"mr-1"},Gs={class:"d-flex align-center justify-center fill-height"},Ks={class:"mx-3 w-100"},Zs={class:"d-flex align-center mb-1"},Qs={class:"text-grey me-2"},Js={key:0,class:"text-caption text-green-accent-3"},el={class:"d-flex align-center"},tl={class:"font-weight-bold text-body-2 me-auto"},al={class:"d-flex"},il={class:"pa-1 w-50"},nl={class:"d-flex flex-wrap justify-space-between ma-2"},rl={class:"w-50"},ol={key:0,class:"mb-2"},sl={class:"d-flex align-center mt-2 justify-center"},ll={key:0,class:"mt-2 text-center"},ul=["src"],Cl={__name:"Admin",setup(i){const h=ae(null),w=ae(null),x=ae(null);function v(S){let l=null;S&&S.target&&S.target.files?l=S.target.files[0]:S instanceof File?l=S:Array.isArray(S)?l=S[0]:S&&(l=S),l&&(h.value=l,w.value=URL.createObjectURL(l),x.value&&x.value.replace&&x.value.replace(w.value))}function C(){if(!x.value)return;const S=x.value.getCroppedCanvas({width:1584,height:1152});S&&S.toBlob(l=>{var b;l&&(h.value=new File([l],((b=h.value)==null?void 0:b.name)||"combo.jpg",{type:l.type}),M.img=URL.createObjectURL(h.value))},"image/jpeg")}function D(){x.value&&x.value.reset&&x.value.reset(),h.value=null,w.value=null,M.img=""}function V(){h.value=null,w.value=null,x.value&&x.value.replace&&x.value.replace(""),M.img=""}const j=ae(!1),$=ae(""),I=ae(!0);function _(){$.value==="adm1"?(j.value=!0,I.value=!1,Y()):alert("Incorrect password")}const z=["Naga","Calbayog"],L=ae(z[0]),N=ee(()=>{const S=new Set(Object.values(ie.value).map(l=>l.menuCategory).filter(Boolean));return Array.from(S)}),H=ae(""),ie=ae({}),T=ae({menuDesc:"",menuStatus:"Active",isHot:!1,menuCategory:null,menuDisc:0,menuCode:null,img:"",menuName:"",menuPrice:"",branches:[]}),k=ae(null),G=ae(!1),te=ae(!1),A=ae(null),B=ae(null),O=ae(!1),M=ae({name:"",desc:"",disc:0,img:"",price:0,members:{},branches:[]}),U=ae(""),Z=ee(()=>{let S=Object.values(ie.value);return U.value&&(S=S.filter(l=>l.menuCategory===U.value)),S});Ue(at),Mt(()=>{Y()});function Y(){const S=Zo(Ue(at,"Menu"),Qo("menuName"));Rt(S).then(l=>{const b={};l.forEach(function(se){b[se.val().menuCode]=se.val()}),ie.value=b})}const le=ee(()=>{let S=Object.values(ie.value);if(L.value){const l=L.value.toLowerCase();S=S.filter(b=>Array.isArray(b.branches)&&b.branches.some(se=>se&&se.toLowerCase()===l))}return H.value&&(S=S.filter(l=>l.menuCategory===H.value)),console.log("Filtered menu items:",S),S});async function oe(){const S=Va(),l=Ue(S,"Menu"),b=Ue(S,"MenuCategory"),se=Ue(S,"Combo");try{const Le=await Rt(l);if(Le.exists()){const ge={};Le.forEach(xe=>{ge[`/${xe.key}/branches`]=["naga","calbayog"],ge[`/${xe.key}/branch`]=null}),await Ut(l,ge)}const Ke=await Rt(b);if(Ke.exists()){const ge={};Ke.forEach(xe=>{xe.forEach(Ce=>{ge[`/${xe.key}/${Ce.key}/branches`]=["naga","calbayog"],ge[`/${xe.key}/${Ce.key}/branch`]=null})}),await Ut(b,ge)}const Ze=await Rt(se);if(Ze.exists()){const ge={};Ze.forEach(xe=>{ge[`/${xe.key}/branches`]=["naga","calbayog"],ge[`/${xe.key}/branch`]=null}),await Ut(se,ge)}alert("Database updated successfully!"),Y()}catch(Le){console.error("Error updating database: ",Le),alert("An error occurred while updating the database.")}}function we(S){const l=S.target.files[0];B.value=URL.createObjectURL(l),A.value=l}function E(){T.value={menuDesc:"",menuStatus:"Active",isHot:!1,menuCategory:null,menuDisc:0,menuCode:null,img:"",menuName:"",menuPrice:"",branches:[]},A.value=null,B.value=null}function K(S){T.value={...S},B.value=S.img,A.value=null}function he(S){confirm("Are you sure you want to delete this menu item?")&&(wt(Ue(at,"Menu/"+S.menuCode),null),wt(Ue(at,"MenuCategory/"+S.menuCategory+"/"+S.menuCode),null),Y(),E())}function Se(S){M.value.members[S.menuCode]=S}function Ge(S){return S.replace(/[.#$\[\]]/g,"_")}async function q(){if(console.log("Savecombo called with combo:",M.value),O.value=!0,!M.value.name){console.error("Combo name is required to save."),alert("Please enter a name for the combo."),O.value=!1;return}try{if(h.value){const S=Ra(Aa,"img/combo_"+Date.now()+"_"+h.value.name);await Na(S,h.value),M.img=await Ba(S),console.log("Uploaded combo image URL:",M.img),M.value.img=M.img}await wt(Ue(at,"Combo/"+Ge(M.value.name)),M.value),console.log("Combo saved successfully."),O.value=!1,te.value=!1,M.value={name:"",desc:"",disc:0,img:"",price:0,members:{},branches:[]},h.value=null,w.value=null}catch(S){console.error("Error saving combo:",S),alert("An error occurred while saving the combo."),O.value=!1}}function _e(){if(!T.value.branches||T.value.branches.length===0){alert("Please select at least one branch for this menu item.");return}if(G.value=!0,T.value.menuCode||(T.value.menuCode=bs()),Va(),A.value){const S=Ra(Aa,"img/"+A.value.name);Na(S,A.value).then(l=>{Ba(S).then(b=>{T.value.img=b,Re()}).catch(b=>{console.error("Error getting image URL:",b),T.value.img="",Re()})})}else Re()}function Re(S){Array.isArray(T.value.branches)&&(T.value.branches=T.value.branches.map(l=>l&&l.charAt(0).toLowerCase()+l.slice(1))),wt(Ue(at,"MenuCategory/"+T.value.menuCategory+"/"+T.value.menuCode),T.value),wt(Ue(at,"Menu/"+T.value.menuCode),T.value).then(()=>{G.value=!1,Y(),E()})}return(S,l)=>(be(),Ve(Be,null,[m(ts,{id:"inspire"},{default:R(()=>[j.value?(be(),Ve(Be,{key:0},[m(Ws,{modelValue:k.value,"onUpdate:modelValue":l[1]||(l[1]=b=>k.value=b)},{default:R(()=>[P("div",$s,[l[26]||(l[26]=P("h1",null,"Postre",-1)),m(Vt,{class:"my-4"}),m(De,{onClick:l[0]||(l[0]=b=>te.value=!0),size:"small",color:"success",variant:"flat","prepend-icon":"mdi-plus"},{default:R(()=>l[25]||(l[25]=[de("Create Combo")])),_:1,__:[25]})]),m(De,{onClick:oe,color:"warning",class:"ma-4"},{default:R(()=>l[27]||(l[27]=[de("Update DB")])),_:1,__:[27]})]),_:1},8,["modelValue"]),m(Rs,null,{default:R(()=>[m(Ns,{onClick:l[2]||(l[2]=b=>k.value=!k.value)}),m(_a,null,{default:R(()=>l[28]||(l[28]=[de("Application Settings")])),_:1,__:[28]})]),_:1}),m(as,null,{default:R(()=>[m(us,null,{default:R(()=>[m(Wt,null,{default:R(()=>[m(Ct,{cols:"12",class:"pb-0"},{default:R(()=>[m(xt,{modelValue:L.value,"onUpdate:modelValue":l[3]||(l[3]=b=>L.value=b),items:z,label:"Select Branch",dense:"",outlined:"",class:"mb-4",style:{"max-width":"250px"}},null,8,["modelValue"]),m(xt,{modelValue:H.value,"onUpdate:modelValue":l[4]||(l[4]=b=>H.value=b),items:N.value,label:"Select Category",dense:"",outlined:"",class:"mb-4",style:{"max-width":"250px"}},null,8,["modelValue","items"])]),_:1})]),_:1}),m(Wt,null,{default:R(()=>[m(Ct,{cols:"6"},{default:R(()=>[m(Vt),(be(!0),Ve(Be,null,St(le.value,b=>(be(),Ve("div",{class:"d-flex align-center py-4",key:b.menuCode},[P("div",Fs,[m(fs,{density:"comfortable",label:"",class:"text-body-2 d-inline-flex"})]),P("div",qs,[m(At,{class:"align-end text-white","aspect-ratio":"1",height:"90",width:"90",cover:"",src:b.img},{placeholder:R(()=>[P("div",Gs,[m(Qa,{color:"grey-lighten-4",indeterminate:""})])]),_:2},1032,["src"])]),P("div",Ks,[P("div",Zs,[P("h4",Qs,dt(b.menuName),1),(be(!0),Ve(Be,null,St(b.branches,se=>(be(),Dt(Ka,{key:se,size:"x-small",color:"primary",variant:"outlined",class:"mr-1"},{default:R(()=>[de(dt(se),1)]),_:2},1024))),128))]),l[32]||(l[32]=P("div",{class:"text-grey text-caption py-"}," Lorem ipsum dolor sit.",-1)),b.disc?(be(),Ve("div",Js,"Discounted")):ct("",!0),P("div",el,[P("div",tl,[l[29]||(l[29]=P("span",null,"₱",-1)),de(" "+dt(b.menuPrice),1)]),m(De,{onClick:se=>K(b),size:"small",class:"mr-1"},{default:R(()=>[m(it,null,{default:R(()=>l[30]||(l[30]=[de("mdi-pencil")])),_:1,__:[30]})]),_:2},1032,["onClick"]),m(De,{onClick:se=>he(b),size:"small"},{default:R(()=>[m(it,null,{default:R(()=>l[31]||(l[31]=[de("mdi-delete-empty")])),_:1,__:[31]})]),_:2},1032,["onClick"])])])]))),128))]),_:1}),m(Ct,{cols:"6"},{default:R(()=>[m(yt,{class:"mx-auto mt-5 pa-4","max-width":"344",title:"Update Menu"},{default:R(()=>[P("div",al,[P("div",il,[m(At,{src:B.value,cover:""},null,8,["src"])]),m(Ha,{"show-size":"",accept:"image/*",onChange:we,modelValue:A.value,"onUpdate:modelValue":l[5]||(l[5]=b=>A.value=b),density:"comfortable",label:"File input","prepend-icon":"mdi-camera"},null,8,["modelValue"])]),m(xt,{modelValue:T.value.branches,"onUpdate:modelValue":l[6]||(l[6]=b=>T.value.branches=b),items:z,label:"Available in Branches",dense:"",outlined:"",class:"mb-2",multiple:"",rules:[b=>b&&b.length>0||"Select at least one branch"],required:"",clearable:"",hint:"Menu will be available in the selected branches.","persistent-hint":""},null,8,["modelValue","rules"]),m(je,{modelValue:T.value.menuCategory,"onUpdate:modelValue":l[7]||(l[7]=b=>T.value.menuCategory=b),label:"Menu Category"},null,8,["modelValue"]),m(je,{clearable:"",modelValue:T.value.menuName,"onUpdate:modelValue":l[8]||(l[8]=b=>T.value.menuName=b),color:"primary",label:"Menu Name",variant:"underlined"},null,8,["modelValue"]),m(je,{clearable:"",modelValue:T.value.menuDesc,"onUpdate:modelValue":l[9]||(l[9]=b=>T.value.menuDesc=b),color:"primary",label:"Menu Description",variant:"underlined"},null,8,["modelValue"]),m(je,{clearable:"",modelValue:T.value.menuPrice,"onUpdate:modelValue":l[10]||(l[10]=b=>T.value.menuPrice=b),color:"primary",label:"Price",variant:"underlined"},null,8,["modelValue"]),m(js,{color:"green",modelValue:T.value.isHot,"onUpdate:modelValue":l[11]||(l[11]=b=>T.value.isHot=b),label:"Hot Menu"},null,8,["modelValue"]),m(Ta,null,{default:R(()=>[m(Xt),m(De,{onClick:E,color:"info",variant:"outlined"},{default:R(()=>[l[33]||(l[33]=de(" Create New ")),m(it,{icon:"mdi-plus",end:""})]),_:1,__:[33]}),T.value.menuCode?(be(),Dt(De,{key:1,onClick:_e,color:"success"},{default:R(()=>[l[35]||(l[35]=de(" Update Menu ")),m(it,{icon:"mdi-chevron-right",end:""})]),_:1,__:[35]})):(be(),Dt(De,{key:0,onClick:_e,color:"primary"},{default:R(()=>[l[34]||(l[34]=de(" Create Menu ")),m(it,{icon:"mdi-content-save",end:""})]),_:1,__:[34]}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)):ct("",!0)]),_:1}),m(Yt,{modelValue:G.value,"onUpdate:modelValue":l[12]||(l[12]=b=>G.value=b),scrim:!1,persistent:"",width:"auto"},{default:R(()=>[m(yt,{color:"grey-accent-4"},{default:R(()=>[m(ka,null,{default:R(()=>[l[36]||(l[36]=de(" Updating file... ")),m(Go,{indeterminate:"",color:"blue",class:"mb-0"})]),_:1,__:[36]})]),_:1})]),_:1},8,["modelValue"]),m(Yt,{modelValue:te.value,"onUpdate:modelValue":l[22]||(l[22]=b=>te.value=b),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition"},{default:R(()=>[m(yt,null,{default:R(()=>[m(Ft,{dark:"",color:"success"},{default:R(()=>[m(De,{icon:"",dark:"",onClick:l[13]||(l[13]=b=>te.value=!1)},{default:R(()=>[m(it,null,{default:R(()=>l[37]||(l[37]=[de("mdi-close")])),_:1,__:[37]})]),_:1}),m(_a,null,{default:R(()=>l[38]||(l[38]=[de("Create combo package")])),_:1,__:[38]}),m(Xt)]),_:1}),m(Vt),m(Wt,{class:"pa-4"},{default:R(()=>[m(Ct,{cols:"6",class:"h-50"},{default:R(()=>[l[40]||(l[40]=P("h2",null,"Select Items",-1)),m(xt,{modelValue:U.value,"onUpdate:modelValue":l[14]||(l[14]=b=>U.value=b),items:N.value,label:"Select Category",dense:"",outlined:"",class:"mb-4",style:{"max-width":"250px"}},null,8,["modelValue","items"]),(be(!0),Ve(Be,null,St(Z.value,b=>(be(),Ve("div",null,[P("div",nl,[m(Vt,{class:"mb-2"}),P("div",rl,dt(b.menuName),1),m(De,{onClick:se=>Se(b),density:"comfortable",color:"green","prepend-icon":"mdi-plus",size:"small"},{default:R(()=>l[39]||(l[39]=[de("Add")])),_:2,__:[39]},1032,["onClick"])])]))),256))]),_:1,__:[40]}),m(Ct,{cols:"6"},{default:R(()=>[m(xt,{modelValue:M.value.branches,"onUpdate:modelValue":l[15]||(l[15]=b=>M.value.branches=b),items:z,label:"Branches",multiple:"",dense:"",outlined:"",class:"mb-2"},null,8,["modelValue"]),m(Ha,{modelValue:h.value,"onUpdate:modelValue":l[16]||(l[16]=b=>h.value=b),accept:"image/*",label:"Combo Image","prepend-icon":"mdi-camera",onChange:v,"show-size":"",density:"comfortable",class:"mb-2"},null,8,["modelValue"]),w.value?(be(),Ve("div",ol,[m(yt,{class:"pa-2",style:{background:"#222","max-width":"500px",margin:"auto"}},{default:R(()=>[m($a(Ms),{ref_key:"comboCropper",ref:x,src:w.value,"aspect-ratio":1584/1152,"auto-crop":!0,"view-mode":1,"min-container-width":400,"min-container-height":300,"auto-crop-area":1,background:!0,guides:!0,zoomable:!0,scalable:!0,rotatable:!0,movable:!0,"crop-box-movable":!0,"crop-box-resizable":!0,style:{width:"100%","max-width":"480px",height:"350px",border:"2px solid #888",background:"#222"}},null,8,["src"]),P("div",sl,[m(De,{color:"primary",class:"mr-2",onClick:C},{default:R(()=>l[41]||(l[41]=[de("Crop & Use")])),_:1,__:[41]}),m(De,{color:"grey",variant:"outlined",onClick:D},{default:R(()=>l[42]||(l[42]=[de("Reset")])),_:1,__:[42]}),m(De,{color:"red",variant:"outlined",class:"ml-2",onClick:V},{default:R(()=>l[43]||(l[43]=[de("Remove")])),_:1,__:[43]})]),l[45]||(l[45]=P("div",{class:"text-caption mt-1 text-white"},"Drag, zoom, or rotate to adjust. Crop area is fixed to 1584x1152. The preview below updates live as you crop.",-1)),x.value&&x.value.ready&&w.value?(be(),Ve("div",ll,[P("img",{src:w.value,style:{"max-width":"100%",border:"1px solid #444",background:"#111"},alt:"Live Preview"},null,8,ul),l[44]||(l[44]=P("div",{class:"text-caption text-grey"},"Live preview",-1))])):ct("",!0)]),_:1,__:[45]})])):ct("",!0),M.value.img?(be(),Dt(At,{key:1,src:M.value.img,"max-width":"350",class:"mb-2"},null,8,["src"])):ct("",!0),m(je,{modelValue:M.value.name,"onUpdate:modelValue":l[17]||(l[17]=b=>M.value.name=b),class:"mr-",label:"Name",density:"compact",variant:"outlined"},null,8,["modelValue"]),m(je,{modelValue:M.value.desc,"onUpdate:modelValue":l[18]||(l[18]=b=>M.value.desc=b),class:"mr-",label:"Description",density:"compact",variant:"outlined"},null,8,["modelValue"]),m(je,{modelValue:M.value.disc,"onUpdate:modelValue":l[19]||(l[19]=b=>M.value.disc=b),class:"mr-",label:"Discount",density:"compact",variant:"outlined"},null,8,["modelValue"]),m(je,{modelValue:M.value.price,"onUpdate:modelValue":l[20]||(l[20]=b=>M.value.price=b),class:"mr-",label:"Price",density:"compact",variant:"outlined"},null,8,["modelValue"]),l[47]||(l[47]=P("h3",null,"Includes:",-1)),(be(!0),Ve(Be,null,St(M.value.members,b=>(be(),Ve("div",null,dt(b.menuName),1))),256)),m(De,{onClick:l[21]||(l[21]=b=>q()),loading:O.value,class:"mt-5","prepend-icon":"mdi-upload",color:"blue"},{default:R(()=>l[46]||(l[46]=[de("Save")])),_:1,__:[46]},8,["loading"])]),_:1,__:[47]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(Yt,{modelValue:I.value,"onUpdate:modelValue":l[24]||(l[24]=b=>I.value=b),persistent:"",width:"auto"},{default:R(()=>[m(yt,null,{default:R(()=>[m(Ko,null,{default:R(()=>l[48]||(l[48]=[P("span",{class:"headline"},"Admin Access",-1)])),_:1,__:[48]}),m(ka,null,{default:R(()=>[m(je,{modelValue:$.value,"onUpdate:modelValue":l[23]||(l[23]=b=>$.value=b),label:"Password",type:"password",onKeyup:Fa(_,["enter"])},null,8,["modelValue"])]),_:1}),m(Ta,null,{default:R(()=>[m(Xt),m(De,{color:"primary",onClick:_},{default:R(()=>l[49]||(l[49]=[de("Login")])),_:1,__:[49]})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{Cl as default};
